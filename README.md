ğŸŒ¦ï¸ End-to-End MLOps Platform for Weather-Based Clothing RecommendationThis project implements a complete End-to-End MLOps pipeline that automates the entire lifecycle of a deep learning model, from data processing and training to serving predictions through both a user-facing dashboard and a developer-friendly API.*(ì—¬ê¸°ì— ì„œë¹„ìŠ¤ ë°ëª¨ í™”ë©´ GIFë‚˜ ìŠ¤í¬ë¦°ìƒ·ì„ ì¶”ê°€í•˜ë©´ í›¨ì”¬ ë©‹ì ¸ìš”!)ğŸ“ OverviewProject Goal: To build a robust, automated, and scalable MLOps system that transforms a deep learning model from a static file into a live, operational service.Live Demos:Streamlit UI: http://[YOUR_EC2_IP]:8501FastAPI Docs: http://[YOUR_EC2_IP]:8000/docsTech Stack:ğŸ—ï¸ ArchitectureThe system is designed with a modular and automated architecture, where each component seamlessly connects to form a complete MLOps lifecycle.*(ì—¬ê¸°ì— ì§ì ‘ ê·¸ë¦° ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨ì„ ë„£ìœ¼ë©´ ì „ë¬¸ì„±ì´ 10ë°°ëŠ” ì˜¬ë¼ê°€ìš”!)âœ¨ My Key ContributionsAs an MLOps Engineer and Backend Developer in this team project, I was responsible for designing and implementing the core infrastructure for model serving and automation.1. Prototyping & System Design:Initiated the project by developing a full end-to-end prototype in a single day (API Crawling -> Preprocessing -> ML Prediction -> FastAPI Serving). This provided the team with a clear architectural vision and accelerated the overall development process.2. Service Architecture & Modularization:Designed and implemented a modular architecture by creating a common directory.Centralized core logic, such as S3 data loading (s3_loader.py) and recommendation algorithms (recommender.py), to ensure code reusability and data consistency between the Streamlit UI and FastAPI, applying the DRY (Don't Repeat Yourself) principle.3. Model Serving System (Backend & Frontend):Backend (FastAPI): Developed two RESTful API endpoints (/forecast/latest, /recommendation/by_day) to serve raw prediction data and processed recommendations. Integrated auto-generating OpenAPI documentation (/docs) to enhance developer collaboration.Frontend (Streamlit): Built an interactive dashboard that consumes the common modules to visualize complex time-series predictions and provide actionable clothing recommendations to end-users.4. CI/CD Pipeline & Automation:Established a complete CI/CD pipeline using GitHub Actions.CI: Automated Docker image builds and pushes to Docker Hub upon every push to the main branch.CD: Automated deployment to an AWS EC2 instance via SSH, enabling zero-downtime updates by pulling the latest image and restarting the container.5. Development Environment & Productivity:Containerized the entire application using Docker (Dockerfile.app), ensuring a consistent and reproducible environment for all team members.Created a Makefile to abstract complex Docker commands into simple shortcuts (make build, make run, make clean), significantly improving the team's development workflow and productivity.1. í”„ë¡œí† íƒ€ì´í•‘ ë° ì‹œìŠ¤í…œ ì„¤ê³„:í”„ë¡œì íŠ¸ ì´ˆë°˜, í•˜ë£¨ ë§Œì— ì „ì²´ íŒŒì´í”„ë¼ì¸ì˜ í”„ë¡œí† íƒ€ì…ì„ ê°œë°œí•˜ì—¬ íŒ€ì— ëª…í™•í•œ ì•„í‚¤í…ì²˜ ë¹„ì „ì„ ì œì‹œí•˜ê³  ê°œë°œ ì†ë„ë¥¼ ê°€ì†í™”í–ˆìŠµë‹ˆë‹¤.2. ì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜ ë° ëª¨ë“ˆí™”:common ë””ë ‰í† ë¦¬ë¥¼ ìƒì„±í•˜ì—¬ ëª¨ë“ˆì‹ ì•„í‚¤í…ì²˜ë¥¼ ì„¤ê³„í•˜ê³  êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.S3 ë°ì´í„° ë¡œë”© ë° ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜ê³¼ ê°™ì€ í•µì‹¬ ë¡œì§ì„ ì¤‘ì•™í™”í•˜ì—¬ ì½”ë“œ ì¬ì‚¬ìš©ì„±ì„ ë†’ì´ê³ , DRY ì›ì¹™ì„ ì ìš©í•˜ì—¬ Streamlit UIì™€ FastAPI ê°„ì˜ ë°ì´í„° ì •í•©ì„±ì„ 100% ë³´ì¥í–ˆìŠµë‹ˆë‹¤.3. ëª¨ë¸ ì„œë¹™ ì‹œìŠ¤í…œ (ë°±ì—”ë“œ & í”„ë¡ íŠ¸ì—”ë“œ):ë°±ì—”ë“œ (FastAPI): ì›ë³¸ ì˜ˆì¸¡ ë°ì´í„°ì™€ ê°€ê³µëœ ì¶”ì²œ ê²°ê³¼ë¥¼ ì œê³µí•˜ëŠ” 2ê°œì˜ RESTful API ì—”ë“œí¬ì¸íŠ¸ë¥¼ ê°œë°œí•˜ê³ , ìë™ API ë¬¸ì„œë¥¼ ì œê³µí•˜ì—¬ í˜‘ì—… íš¨ìœ¨ì„ ê·¹ëŒ€í™”í–ˆìŠµë‹ˆë‹¤.í”„ë¡ íŠ¸ì—”ë“œ (Streamlit): ê³µí†µ ëª¨ë“ˆì„ í™œìš©í•˜ì—¬ ë³µì¡í•œ ì‹œê³„ì—´ ì˜ˆì¸¡ ê²°ê³¼ë¥¼ ì‹œê°í™”í•˜ê³ , ì‚¬ìš©ìì—ê²Œ ì‹¤ìš©ì ì¸ ì˜ë¥˜ ì¶”ì²œì„ ì œê³µí•˜ëŠ” ì¸í„°ë™í‹°ë¸Œ ëŒ€ì‹œë³´ë“œë¥¼ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.4. CI/CD íŒŒì´í”„ë¼ì¸ ë° ìë™í™”:GitHub Actionsë¥¼ ì‚¬ìš©í•´ main ë¸Œëœì¹˜ í‘¸ì‹œ ì‹œ Docker ì´ë¯¸ì§€ ë¹Œë“œë¶€í„° AWS EC2 ì„œë²„ ë°°í¬ê¹Œì§€ì˜ ì „ ê³¼ì •ì„ ìë™í™”í•˜ëŠ” CI/CD íŒŒì´í”„ë¼ì¸ì„ êµ¬ì¶•í–ˆìŠµë‹ˆë‹¤.5. ê°œë°œ í™˜ê²½ ë° ìƒì‚°ì„±:Dockerë¥¼ í†µí•´ ì „ì²´ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ì»¨í…Œì´ë„ˆí™”í•˜ì—¬ íŒ€ì› ëª¨ë‘ì—ê²Œ ì¼ê´€ëœ ê°œë°œ í™˜ê²½ì„ ì œê³µí–ˆìŠµë‹ˆë‹¤.Makefileì„ ë„ì…í•˜ì—¬ ë³µì¡í•œ Docker ëª…ë ¹ì–´ë“¤ì„ ì¶”ìƒí™”í•˜ê³ , íŒ€ ì „ì²´ì˜ ê°œë°œ ì›Œí¬í”Œë¡œìš°ì™€ ìƒì‚°ì„±ì„ í–¥ìƒì‹œì¼°ìŠµë‹ˆë‹¤.ğŸ’¡ Troubleshooting & Lessons LearnedThis section details key technical challenges encountered during the project and the systematic approach used to resolve them.Challenge & SymptomMy Troubleshooting Process & SolutionKey Takeaway1. CI/CD Deployment Failure (i/o timeout)Hypothesis: The network firewall was blocking the connection.  Verification: I confirmed that local SSH access worked, isolating the issue to the GitHub Actions runner's environment.  Action: I identified that the EC2 Security Group was configured to only allow my static IP. I updated the SSH inbound rule to Anywhere-IPv4 (0.0.0.0/0) to allow access from GitHub's dynamic IP addresses.A deep understanding of cloud networking (Security Groups, Firewalls) is crucial for building a successful CD pipeline. Security and accessibility must be balanced.2. Docker Build Failure (not found error)Hypothesis: The Docker build context was incorrect.  Verification: I analyzed the GitHub Actions log and found that COPY commands were failing.  Action: I realized the build context was set to the project root (.), but the Dockerfile COPY paths were relative to the app directory. I fixed this by prepending the correct relative paths (e.g., mlops_team/app/) to all COPY commands in the Dockerfile, ensuring the build is reproducible regardless of the execution path.The Docker build context and COPY command paths must be perfectly aligned. A well-structured Dockerfile is essential for reliable CI.3. FastAPI Serialization Error (numpy.float32)Hypothesis: FastAPI's JSON encoder could not handle a specific data type.  Verification: The traceback clearly pointed to a ValueError related to numpy.float32.  Action: I identified that Pandas aggregation functions (.mean(), .min(), etc.) return NumPy types, not native Python types. I resolved this by explicitly casting the values to native Python float() before returning the final JSON response.An API is not just a model wrapper; it's a data translation service. Understanding data serialization and type compatibility between libraries is key to building robust APIs.ğŸ› ï¸ How to RunAll processes can be easily executed using the Makefile.# 1. Build the Docker image
# (Builds the image defined in mlops_team/app/Dockerfile.app)
make build

# 2. Run the Docker container in the background
# (Requires .env file in the mlops_team/ directory)
make run

# 3. View logs of the running container
make logs

# 4. Stop and remove the container
make clean
Access Streamlit UI: http://localhost:8501Access FastAPI Docs: http://localhost:8000/docsğŸš€ Future ImprovementsModel Monitoring: Implement a monitoring system (e.g., using Prometheus & Grafana) to track the performance of the deployed model in real-time and detect model drift.Automated Retraining Pipeline: Extend the MLOps pipeline to automatically retrain the model with new data on a schedule (e.g., using Airflow), validate its performance, and deploy it if it outperforms the current model.A/B Testing Framework: Introduce a system to serve multiple model versions simultaneously to different user segments, allowing for data-driven decisions on which model performs best in a live environment.
